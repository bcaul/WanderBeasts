# Quick Fix for RLS Error

## The Error

```
Error: new row violates row-level security policy for table "spawns"
```

## The Fix (2 Minutes)

### Step 1: Open Supabase SQL Editor

1. Go to **Supabase Dashboard**
2. Click **"SQL Editor"** (left sidebar)
3. Click **"New query"**

### Step 2: Run This SQL

Copy and paste this:

```sql
-- Fix: Allow authenticated users to insert spawns
DROP POLICY IF EXISTS "Authenticated users can insert spawns" ON spawns;

CREATE POLICY "Authenticated users can insert spawns" ON spawns
  FOR INSERT WITH CHECK (auth.role() = 'authenticated');
```

### Step 3: Click "Run"

You should see "Success" message.

### Step 4: Test

1. **Refresh your app**
2. **Click "Generate Spawns" button**
3. **Should work now!**

## What This Does

This SQL creates a policy that allows **any authenticated user** to insert spawns into the database. This is necessary because:
- Spawns are generated by users when they're playing
- The spawns table has RLS enabled for security
- But there was no INSERT policy, so inserts were blocked

## Verify It Worked

Run this to check:

```sql
SELECT * FROM pg_policies WHERE tablename = 'spawns';
```

You should see 2 policies:
- "Anyone can view spawns" (SELECT)
- "Authenticated users can insert spawns" (INSERT) ‚Üê This is new!

## That's It!

After running the SQL, spawn generation should work. Try clicking "Generate Spawns" again!

